#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Executando validaÃ§Ãµes prÃ©-commit..."

# Verificar se hÃ¡ arquivos TypeScript modificados
if git diff --cached --name-only | grep -E '\.(ts|js)$' > /dev/null; then
  echo "ğŸ“ Verificando formataÃ§Ã£o do cÃ³digo..."
  npm run prettier:check || (echo "âŒ Prettier check falhou. Execute 'npm run validate:fix' para corrigir." && exit 1)
  
  echo "ğŸ”§ Verificando linting..."
  npm run lint:check || (echo "âŒ Lint check falhou. Execute 'npm run validate:fix' para corrigir." && exit 1)
  
  echo "ğŸ“‹ Verificando tipos TypeScript..."
  npm run type-check || (echo "âŒ Type check falhou." && exit 1)
fi

echo "âœ… ValidaÃ§Ãµes prÃ©-commit concluÃ­das com sucesso!" 
